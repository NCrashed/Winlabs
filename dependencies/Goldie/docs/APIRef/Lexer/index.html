<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>Goldie: class Lexer</title>
<link rel="stylesheet" type="text/css" href="../../theme.css" />
<style type="text/css"></style>
</head>

<body>

<table>
<tr>
<td style="padding-top: 0px">

	<div class="page-title">
		<a class="extern-link" href="http://www.semitwist.com/goldie/">Goldie</a>
	</div>

	<div class="page-subtitle">
		Parsing System <span class="page-subtitle-version">(v0.9)</span>
	</div>

	<div class="side-panel">
		<div class="pagemenu-link"><a class="page-link" href="../../index.html">Goldie Home (v0.9)</a></div>
		<div class="pagemenu-link"><a class="pagemenu-link" href="../../Start/index.html">Getting Started</a></div>
<ul class="pagemenu-link">
<li><a class="pagemenu-link" href="../../Start/Requires/index.html">Requirements</a></li>
<li><a class="pagemenu-link" href="../../Start/Install/index.html">Download / Install</a></li>
<li><a class="pagemenu-link" href="../../Start/LearnParsing/index.html">Never Used a Parsing Tool?</a></li>
<li><a class="pagemenu-link" href="../../Start/Overview/index.html">Goldie Overview</a></li>
<li><a class="pagemenu-link" href="../../Start/Tutorial/index.html">Beginner's Tutorial</a></li>
<li><a class="pagemenu-link" href="../../Start/Grammar/index.html">Grammar Definition Language</a></li>
<li><a class="pagemenu-link" href="../../Start/Contact/index.html">Contact / Support</a>
<ul class="pagemenu-link">
<li><a class="pagemenu-link" href="../../Start/Contact/MessageBoard/index.html">Message Board</a></li>
<li><a class="pagemenu-link" href="../../Start/Contact/Tickets/index.html">Issue Tracking</a></li>
</ul>
</li>
</ul>
<div class="pagemenu-link"><a class="pagemenu-link" href="../../Tools/index.html">Goldie's Tools</a></div>
<ul class="pagemenu-link">
<li><a class="pagemenu-link" href="../../Tools/AlterCGT/index.html">AlterCGT</a></li>
<li><a class="pagemenu-link" href="../../Tools/DumpCGT/index.html">DumpCGT</a></li>
<li><a class="pagemenu-link" href="../../Tools/GenDocs/index.html">GenDocs</a>
<ul class="pagemenu-link">
<li><a class="pagemenu-link" href="../../Tools/GenDocs/TemplateFormat/index.html">Template Format</a></li>
</ul>
</li>
<li><a class="pagemenu-link" href="../../Tools/GRMC/index.html">GRMC: Grammar Compiler</a></li>
<li><a class="pagemenu-link" href="../../Tools/JsonViewer/index.html">JsonViewer</a>
<ul class="pagemenu-link">
<li><a class="pagemenu-link" href="../../Tools/JsonViewer/ParseTreeMode/index.html">Parse Tree Mode</a></li>
</ul>
</li>
<li><a class="pagemenu-link" href="../../Tools/Parse/index.html">Parse</a></li>
<li><a class="pagemenu-link" href="../../Tools/StaticLang/index.html">StaticLang</a></li>
<li><a class="pagemenu-link" href="../../Tools/OtherTools/index.html">Other Tools</a></li>
</ul>
<div class="pagemenu-link"><a class="pagemenu-link" href="../../APIOver/index.html">GoldieLib Overview</a></div>
<ul class="pagemenu-link">
<li><a class="pagemenu-link" href="../../APIOver/StatVsDyn/index.html">Static And Dynamic Styles</a></li>
<li><a class="pagemenu-link" href="../../APIOver/AmbiguousSym/index.html">Ambiguous Symbols</a></li>
</ul>
<div class="pagemenu-link"><a class="pagemenu-link" href="../../APIRef/index.html">GoldieLib Reference</a></div>
<ul class="pagemenu-link">
<li><a class="pagemenu-link" href="../../APIRef/Base/index.html">Base</a></li>
<li><a class="pagemenu-link" href="../../APIRef/Exception/index.html">Exception</a></li>
<li><a class="pagemenu-link" href="../../APIRef/Language/index.html">class Language</a></li>
<li><span class="pagemenu-link">class Lexer</span></li>
<li><a class="pagemenu-link" href="../../APIRef/Parser/index.html">class Parser</a></li>
<li><a class="pagemenu-link" href="../../APIRef/Symbol/index.html">struct Symbol</a></li>
<li><a class="pagemenu-link" href="../../APIRef/Token/index.html">class Token</a></li>
<li><a class="pagemenu-link" href="../../APIRef/Ver/index.html">Ver</a></li>
</ul>
<div class="pagemenu-link"><a class="pagemenu-link" href="../../SampleApps/index.html">GoldieLib Sample Apps</a></div>
<ul class="pagemenu-link">
<li><a class="pagemenu-link" href="../../SampleApps/CalculatorStatic/index.html">Calculator Static</a></li>
<li><a class="pagemenu-link" href="../../SampleApps/CalculatorDynamic/index.html">Calculator Dynamic</a></li>
<li><a class="pagemenu-link" href="../../SampleApps/SampleGenericParse/index.html">Sample Generic Parse</a></li>
</ul>
<div class="pagemenu-link"><a class="pagemenu-link" href="../../CGT/index.html">CGT File Format</a></div><div class="pagemenu-link"><a class="pagemenu-link" href="../../FAQ/index.html">FAQ</a></div><div class="pagemenu-link"><a class="pagemenu-link" href="../../ChangeLog/index.html">Change Log</a></div><div class="pagemenu-link"><a class="pagemenu-link" href="../../GitMaster/index.html">If You Use Git Master</a></div><div class="pagemenu-link"><a class="pagemenu-link" href="../../Future/index.html">Future Work</a></div><div class="pagemenu-link"><a class="pagemenu-link" href="../../Dev/index.html">Developers</a></div>
<ul class="pagemenu-link">
<li><a class="pagemenu-link" href="../../Dev/DevScripts/index.html">Scripts for Developers</a></li>
<li><a class="pagemenu-link" href="../../Dev/DevStaticLang/index.html">Library Source and StaticLang</a></li>
</ul>

	</div>
	
</td>

<td class="main-panel">
	<div>
	<a class="breadcrumb-link" href="../../index.html">Goldie&nbsp;Home&nbsp;(v0.9)</a>&nbsp;-> <a class="breadcrumb-link" href="../../APIRef/index.html">GoldieLib&nbsp;Reference</a>&nbsp;-> <span class="breadcrumb-link">class&nbsp;Lexer</span>
	</div>
	<br />
	<h1>class Lexer</h1>
	



<ul>
<li>
	<a class="page-link" href="#Lexer">class Lexer</a>
	<ul>
	<li><a class="page-link" href="#Lexer__languageName_">class Lexer_<span class="metaparam">{languageName}</span></a><span class="ident">: Lexer</span></li>
	</ul>
</li>
</ul>

<p class="module-decl">module goldie.lexer</p><div class="api-section"><a name="Lexer" />class Lexer</div>
<div class="api-def">
	<div class="api-head"><span class="attr">readonly @property</span> <a class="page-link" href="../../APIRef/Token/index.html">Token</a>[] <span class="ident">tokens</span><br />
</div>
	<div class="api-def">
		The tokens that resulted from the last lexing.
	</div>
	<div class="api-head"><span class="attr">readonly @property</span> <a class="page-link" href="../../APIRef/Exception/index.html#LexError">LexError</a>[] <span class="ident">errors</span><br />
</div>
	<div class="api-def">
		The lexical errors encountered during the last lexing.
	</div>

	<div class="api-head"><span class="attr"></span> string <span class="ident">source</span><br />
</div>
	<div class="api-def">
		The original source that was last lexed.
	</div>

	<div class="api-head"><span class="attr"></span> ptrdiff_t[] <span class="ident">lineIndicies</span><br />
</div>
	<div class="api-def">
	<p>
		Indicies into <span class="ident">source</span> where each line starts. For example,
		<span class="code-inline">lineIndicies[0]</span> is the index where the first line
		starts (always 0), <span class="code-inline">lineIndicies[1]</span> is the index
		where the second line starts, etc.
	</p>
	<p>
		See the example in <span class="ident">lineAtIndex</span> below.
	</p>
	</div>

	<div class="api-head"><span class="attr"></span> ptrdiff_t <span class="ident">lineAtIndex</span>(ptrdiff_t <span class="param-name">index</span>)<br />
</div>
	<div class="api-def">
	<p>
		Returns the line number (zero-indexed) of a given index into the
		source that was lexed. As per Goldie
		<a class="page-link" href="../../APIOver/index.html#LineColumn">conventions</a>, this value
		should be increased by one whenever it's displayed to the user.
	</p>
	<p>
		Example:
	</p>
		<div class="code-highlight">string src =
"ABC
DEF
HIJ";

auto lexerUsed = someLanguage.lexCodeX(src);

auto numLines = lexerUsed.lineIndicies.length;

<span class="code-comment">// Get everything from start of second line, to start of third line</span>
auto secondLine = src[ lexerUsed.lineIndicies[1] .. lexerUsed.lineIndicies[2] ]

writeln("Number of lines: ", numLines);
writeln("Second line: ", secondLine);
writefln("src[9] is '%s' and is on line #%s",
    src[9], 1 + lexerUsed.lineAtIndex(9));

<span class="code-comment">// Output:</span>
<span class="code-comment">// Number of lines: 3</span>
<span class="code-comment">// Second line: DEF</span>
<span class="code-comment">//</span> 
<span class="code-comment">// src[9] is 'I' and is on line #3</span>
</div>
	</div>

	<div class="api-head"><span class="attr"></span> string <span class="ident">filename</span><br />
</div>
	<div class="api-def">
	<p>
		The filename (if available) of the last source lexed.
	</p>
	</div>

	<div class="api-head"><span class="attr"></span> ptrdiff_t <span class="ident">srcIndex</span><br />
<span class="attr"></span> ptrdiff_t <span class="ident">line</span><br />
</div>
	<div class="api-def">
	<p>
		Internal lexer state. Access is provided to these for diagnostic
		purposes.
		If an exception is thrown during lexing, then these can be inspected
		to check the lexer's internal state at the time of the exception.
		This is probably only useful for debugging Goldie.
	</p>
	</div>

	<div class="api-head"><span class="attr"></span> <a class="page-link" href="../../APIRef/Token/index.html">Token</a>[] <span class="ident">process</span>(string <span class="param-name">source</span>, <a class="page-link" href="../../APIRef/Language/index.html">Language</a> <span class="param-name">lang</span>, string <span class="param-name">filename</span>="")<br />
</div>
	<div class="api-def">
	<p>
		Lexes (ie, tokenizes) a source. Throws a <a class="page-link" href="../../APIRef/Exception/index.html#LexException">LexException</a> if
		the source contains an error.
	</p>
	<p>
		Normally, you would use one of the
		<a class="page-link" href="../../APIRef/Language/index.html">Language</a><span class="ident">.parse</span> or <a class="page-link" href="../../APIRef/Language/index.html">Language</a><span class="ident">.lex</span>
		functions instead of calling this directly,
		but this direct access is provided in case you'd rather re-use the
		same lexer instead of instantiating a new one every time.
	</p>
	<p>
		The filename from which the source originated can be provided
		so error messages can report the appropriate filename.
	</p>
	</div>
</div>

<p class="module-decl">module {user-specified package}.lexer</p><div class="api-section"><a name="Lexer__languageName_" />class Lexer_<span class="metaparam">{languageName}</span> : Lexer</div>
<div class="api-def">
	<div class="api-head">
		{languageName} = Name of static-style language
	</div>
	<p>
	This is the <a class="page-link" href="../../APIOver/StatVsDyn/index.html">static-style</a> counterpart to
	<span class="page-link">Lexer</span>, and is generated by the
	<a class="page-link" href="../../Tools/StaticLang/index.html">StaticLang</a> tool.
	</p>
	<p>
	If the name of a language is, for example, <span class="ident">foo</span>, then
	the name of this class will be <span class="ident">Lexer_foo</span>.
	</p>
	<p>
	The interface is the same as <a class="page-link" href="#Lexer">Lexer</a>.
	</p>
</div>
</td>

</tr>
</table>

<hr />
<p class="footer">
	Goldie v0.9 Documentation<br />
	Copyright &copy; 2010-2012 Nick Sabalausky<br />
	<br />
</p>

</body>

</html>